<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
    <!-- Title -->
    <text x="400" y="30" font-family="Arial" font-size="20" text-anchor="middle" font-weight="bold">Figure 1: Experimental Setup for Quantum Causal Invariance Test</text>

    <!-- Panel A: Conceptual Overview -->
    <rect x="50" y="60" width="700" height="160" fill="#f8f8f8" stroke="#333" stroke-width="1" />
    <text x="400" y="80" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">Panel A: Conceptual Overview</text>

    <!-- Source of entangled photons -->
    <rect x="100" y="120" width="80" height="40" fill="#9fc5e8" stroke="#333" stroke-width="2" rx="5" ry="5" />
    <text x="140" y="145" font-family="Arial" font-size="14" text-anchor="middle">Source (S)</text>
    
    <!-- XOR-SHIFT Transformation Module -->
    <rect x="300" y="120" width="100" height="40" fill="#b6d7a8" stroke="#333" stroke-width="2" rx="5" ry="5" />
    <text x="350" y="145" font-family="Arial" font-size="14" text-anchor="middle">XOR-SHIFT (T)</text>
    
    <!-- Measurement Apparatus -->
    <rect x="500" y="120" width="100" height="40" fill="#ffe599" stroke="#333" stroke-width="2" rx="5" ry="5" />
    <text x="550" y="145" font-family="Arial" font-size="14" text-anchor="middle">Measurement (M)</text>
    
    <!-- Connecting lines -->
    <line x1="180" y1="140" x2="300" y2="140" stroke="#333" stroke-width="2" />
    <line x1="400" y1="140" x2="500" y2="140" stroke="#333" stroke-width="2" />
    
    <!-- Connection labels -->
    <text x="240" y="130" font-family="Arial" font-size="12" text-anchor="middle">Entangled Photons</text>
    <text x="450" y="130" font-family="Arial" font-size="12" text-anchor="middle">Transformed State</text>

    <!-- Panel B: XOR-SHIFT Implementation Details -->
    <rect x="50" y="240" width="700" height="160" fill="#f8f8f8" stroke="#333" stroke-width="1" />
    <text x="400" y="260" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">Panel B: XOR-SHIFT Implementation Details</text>
    
    <!-- Phase-Dependent Beam Splitter -->
    <polygon points="150,300 170,320 130,320" fill="#d5a6bd" stroke="#333" stroke-width="2" />
    <text x="150" y="340" font-family="Arial" font-size="12" text-anchor="middle">Phase-Dependent</text>
    <text x="150" y="355" font-family="Arial" font-size="12" text-anchor="middle">Beam Splitter</text>
    
    <!-- Delay Line -->
    <path d="M250,300 C270,280 320,280 340,300 C320,320 270,320 250,300 Z" fill="#9fc5e8" stroke="#333" stroke-width="2" />
    <text x="295" y="340" font-family="Arial" font-size="12" text-anchor="middle">Delay Line</text>
    <text x="295" y="355" font-family="Arial" font-size="12" text-anchor="middle">(SHIFT)</text>
    
    <!-- Variable Attenuators -->
    <rect x="380" y="290" width="80" height="20" fill="#b6d7a8" stroke="#333" stroke-width="2" />
    <text x="420" y="340" font-family="Arial" font-size="12" text-anchor="middle">Variable</text>
    <text x="420" y="355" font-family="Arial" font-size="12" text-anchor="middle">Attenuators</text>
    
    <!-- Feedback Loop -->
    <path d="M500,300 C540,300 560,340 520,340 C480,340 460,300 500,300 Z" fill="#ffe599" stroke="#333" stroke-width="2" />
    <text x="510" y="355" font-family="Arial" font-size="12" text-anchor="middle">Feedback Loop</text>
    
    <!-- Connection lines -->
    <line x1="170" y1="320" x2="250" y2="300" stroke="#333" stroke-width="2" />
    <line x1="340" y1="300" x2="380" y2="300" stroke="#333" stroke-width="2" />
    <line x1="460" y1="300" x2="500" y2="300" stroke="#333" stroke-width="2" />
    <path d="M510,340 C510,370 200,370 200,320" stroke="#333" stroke-width="1" stroke-dasharray="5,3" fill="none" />
    
    <!-- Connection labels -->
    <text x="210" y="290" font-family="Arial" font-size="10" text-anchor="middle">XOR Input</text>
    <text x="360" y="290" font-family="Arial" font-size="10" text-anchor="middle">Shifted State</text>
    <text x="480" y="290" font-family="Arial" font-size="10" text-anchor="middle">α, β control</text>
    <text x="350" y="380" font-family="Arial" font-size="10" text-anchor="middle">Constraint: α ⊕ β = 1</text>

    <!-- Panel C: Expected Results -->
    <rect x="50" y="420" width="700" height="160" fill="#f8f8f8" stroke="#333" stroke-width="1" />
    <text x="400" y="440" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">Panel C: Expected Results</text>
    
    <!-- Graph axes -->
    <line x1="150" y1="530" x2="650" y2="530" stroke="#333" stroke-width="2" /> <!-- X-axis -->
    <line x1="150" y1="530" x2="150" y2="460" stroke="#333" stroke-width="2" /> <!-- Y-axis -->
    
    <!-- Axis labels -->
    <text x="400" y="560" font-family="Arial" font-size="14" text-anchor="middle">Values of α (with β = α ⊕ 1)</text>
    <text x="120" y="500" font-family="Arial" font-size="14" text-anchor="middle" transform="rotate(-90, 120, 500)">Interference Visibility</text>
    
    <!-- X-axis ticks -->
    <line x1="200" y1="530" x2="200" y2="535" stroke="#333" stroke-width="1" />
    <text x="200" y="545" font-family="Arial" font-size="10" text-anchor="middle">0.0</text>
    <line x1="300" y1="530" x2="300" y2="535" stroke="#333" stroke-width="1" />
    <text x="300" y="545" font-family="Arial" font-size="10" text-anchor="middle">0.25</text>
    <line x1="400" y1="530" x2="400" y2="535" stroke="#333" stroke-width="1" />
    <text x="400" y="545" font-family="Arial" font-size="10" text-anchor="middle">0.5</text>
    <line x1="500" y1="530" x2="500" y2="535" stroke="#333" stroke-width="1" />
    <text x="500" y="545" font-family="Arial" font-size="10" text-anchor="middle">0.75</text>
    <line x1="600" y1="530" x2="600" y2="535" stroke="#333" stroke-width="1" />
    <text x="600" y="545" font-family="Arial" font-size="10" text-anchor="middle">1.0</text>
    
    <!-- Y-axis ticks -->
    <line x1="145" y1="520" x2="150" y2="520" stroke="#333" stroke-width="1" />
    <text x="140" y="525" font-family="Arial" font-size="10" text-anchor="end">0.0</text>
    <line x1="145" y1="490" x2="150" y2="490" stroke="#333" stroke-width="1" />
    <text x="140" y="495" font-family="Arial" font-size="10" text-anchor="end">0.5</text>
    <line x1="145" y1="460" x2="150" y2="460" stroke="#333" stroke-width="1" />
    <text x="140" y="465" font-family="Arial" font-size="10" text-anchor="end">1.0</text>

    <!-- UO prediction (solid line) -->
    <line x1="150" y1="470" x2="650" y2="470" stroke="#0000ff" stroke-width="3" />
    
    <!-- Standard QM prediction (dashed line) -->
    <path d="M150,470 Q250,500 400,490 T650,520" stroke="#ff0000" stroke-width="2" stroke-dasharray="5,3" fill="none" />
    
    <!-- Error bars (selected points) -->
    <line x1="200" y1="465" x2="200" y2="475" stroke="#333" stroke-width="1" />
    <line x1="195" y1="465" x2="205" y2="465" stroke="#333" stroke-width="1" />
    <line x1="195" y1="475" x2="205" y2="475" stroke="#333" stroke-width="1" />
    
    <line x1="400" y1="465" x2="400" y2="475" stroke="#333" stroke-width="1" />
    <line x1="395" y1="465" x2="405" y2="465" stroke="#333" stroke-width="1" />
    <line x1="395" y1="475" x2="405" y2="475" stroke="#333" stroke-width="1" />
    
    <line x1="600" y1="465" x2="600" y2="475" stroke="#333" stroke-width="1" />
    <line x1="595" y1="465" x2="605" y2="465" stroke="#333" stroke-width="1" />
    <line x1="595" y1="475" x2="605" y2="475" stroke="#333" stroke-width="1" />
    
    <!-- Legend -->
    <rect x="500" y="460" width="140" height="50" fill="white" stroke="#333" stroke-width="1" />
    <line x1="510" y1="475" x2="530" y2="475" stroke="#0000ff" stroke-width="3" />
    <text x="535" y="480" font-family="Arial" font-size="12">UO prediction</text>
    <line x1="510" y1="495" x2="530" y2="495" stroke="#ff0000" stroke-width="2" stroke-dasharray="5,3" />
    <text x="535" y="500" font-family="Arial" font-size="12">Standard QM</text>
</svg> 